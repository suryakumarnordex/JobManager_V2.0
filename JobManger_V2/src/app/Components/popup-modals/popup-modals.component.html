<div class="modal" *ngIf="parentChildConnection">
  <div class="modal-dialog modal-lg" role="dialog" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <button
          aria-label="Close"
          class="close"
          type="button"
          (click)="PopupModelClose()"
        >
          <clr-icon
            aria-hidden="true"
            shape="close"
            [hidden]="PopupModelLocalvariable.iscloseheader"
          ></clr-icon>
        </button>
        <h3 class="modal-title">
          {{ JobDetailsLocalVariable.passingEventMsg }}
        </h3>
      </div>

      <div
        class="modal-body"
        *ngIf="
          JobDetailsLocalVariable.passingEventMsg != 'TaskRequeue' &&
            JobDetailsLocalVariable.passingEventMsg != 'Priority' &&
            JobDetailsLocalVariable.passingEventMsg != 'Pending_Reason';
          else elseblock
        "
      >
        <div
          class="text"
          *ngIf="JobDetailsLocalVariable.passingEventMsg != 'Pending_Reason'"
        >
          Are you sure you want to
          {{ this.JobDetailsLocalVariable.passingEventMsg }} the
          {{ JobDetailsLocalVariable.SelectedjobsId }} ?
        </div>

        <div
          class="alert alert-danger"
          role="alert"
          *ngIf="IsSuccess == false && PopupResult != undefined"
        >
          <div class="alert-items">
            <div class="alert-item static">
              <div class="alert-icon-wrapper">
                <clr-icon
                  class="alert-icon"
                  shape="exclamation-circle"
                ></clr-icon>
              </div>

              <span class="alert-text">
                {{ PopupResult }}
              </span>
            </div>
          </div>
        </div>

        <div
          class="alert alert-success"
          role="alert"
          *ngIf="IsSuccess == true && PopupResult != undefined"
        >
          <div class="alert-items">
            <div class="alert-item static">
              <div class="alert-icon-wrapper">
                <clr-icon class="alert-icon" shape="check-circle"></clr-icon>
              </div>

              <span class="alert-text">
                {{ PopupResult }}
              </span>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <div class="progress-block">
            <div
              class="progress loop"
              *ngIf="PopupModelLocalvariable.isProgressbar"
            >
              <progress></progress>
            </div>
          </div>
          <div
            *ngIf="PopupModelLocalvariable.isProgressbar"
            style="align-items: left"
          >
            <b> Loading Results... </b>
          </div>
          <div class="button-container right-align">
            <button
              type="button"
              class="btn btn-outline"
              (click)="PopupModelClose()"
              [disabled]="PopupModelLocalvariable.isclose"
            >
              No
            </button>
            <button
              type="button"
              class="btn btn-outline"
              [disabled]="this.JobDetailsLocalVariable.disableButton"
              (click)="
                PopupEvent(); this.JobDetailsLocalVariable.disableButton = true
              "
            >
              Yes
            </button>
          </div>
        </div>
      </div>
      <ng-template #elseblock>
        <div
          class="text"
          *ngIf="
            JobDetailsLocalVariable.passingEventMsg != 'Pending_Reason' &&
            JobDetailsLocalVariable.passingEventMsg == 'Priority'
          "
        >
          Are you sure you want to change the
          {{ this.JobDetailsLocalVariable.passingEventMsg }} of
          {{ JobDetailsLocalVariable.SelectedjobsId }} ?
        </div>
      </ng-template>
      <div
        class="modal-body"
        *ngIf="JobDetailsLocalVariable.passingEventMsg == 'Priority'"
      >
        <div class="select-input-wrapper">
          <clr-signpost *ngIf="PopupModelLocalvariable.isSignpost">
            <clr-signpost-content [clrPosition]="'bottom-right'" *clrIfOpen>
              <h3 class="tooltip">Example Priority</h3>
              <p>
                <code class="clr-code">
                  <li>Highest</li>
                  <li>AboveNormal</li>
                  <li>Normal</li>
                  <li>BelowNormal</li>
                  <li>Lowest</li>
                </code>
              </p>
            </clr-signpost-content> </clr-signpost
          >&nbsp;
          <clr-select-container>
            <label>Enter Priority</label>

            <select
              clrSelect
              name="options"
              [(ngModel)]="PopupModelLocalvariable.PriorityValueoption"
              (change)="
                PopupModelLocalvariable.PriorityValue =
                  PopupModelLocalvariable.PriorityValueoption
              "
            >
              <option
                *ngFor="let option of PopupModelLocalvariable.PrioriyArray"
                (click)="PopupModelLocalvariable.PriorityValue = option.value"
              >
                {{ option.label }}
              </option>
            </select>
            <clr-control-error>This field is required!</clr-control-error>
          </clr-select-container>
          <input
            clrInput
            type="text"
            id="Priority"
            name="Priority"
            [(ngModel)]="PopupModelLocalvariable.PriorityValue"
            required
          />
        </div>
        <br />

        <div
          class="alert alert-danger"
          role="alert"
          *ngIf="IsSuccess == false && PopupResult != undefined"
        >
          <div class="alert-items">
            <div class="alert-item static">
              <div class="alert-icon-wrapper">
                <clr-icon
                  class="alert-icon"
                  shape="exclamation-circle"
                ></clr-icon>
              </div>
              <span class="alert-text">
                {{ PopupResult }}
              </span>
            </div>
          </div>
        </div>

        <div
          class="alert alert-success"
          role="alert"
          *ngIf="IsSuccess == true && PopupResult != undefined"
        >
          <div class="alert-items">
            <div class="alert-item static">
              <div class="alert-icon-wrapper">
                <clr-icon class="alert-icon" shape="check-circle"></clr-icon>
              </div>

              <span class="alert-text">
                {{ PopupResult }}
              </span>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <div class="progress-block">
            <div
              class="progress loop"
              *ngIf="PopupModelLocalvariable.isProgressbar"
            >
              <progress></progress>
            </div>
          </div>
          <div
            *ngIf="PopupModelLocalvariable.isProgressbar"
            style="align-items: left"
          >
            <b> Loading Results... </b>
          </div>
          <div class="button-container right-align">
            <button
              class="btn btn-outline"
              type="button"
              [disabled]="IsSuccess"
              (click)="PopupEvent(); IsSuccess = true"
            >
              Update
            </button>
          </div>
        </div>
      </div>
      <!-- Task Headers-->
      <div
        class="modal-body"
        *ngIf="JobDetailsLocalVariable.passingEventMsg == 'TaskRequeue'"
      >
        If you want to Requeue the Task
        {{ TaskDetailsLocalVariable.SelectedtasksId }} ?
        <div
          class="alert alert-danger"
          role="alert"
          *ngIf="IsSuccess == false && PopupResult != undefined"
        >
          <div class="alert-items">
            <div class="alert-item static">
              <div class="alert-icon-wrapper">
                <clr-icon
                  class="alert-icon"
                  shape="exclamation-circle"
                ></clr-icon>
              </div>

              <span class="alert-text">
                {{ PopupResult }}
              </span>
            </div>
          </div>
        </div>

        <div
          class="alert alert-success"
          role="alert"
          *ngIf="IsSuccess == true && PopupResult != undefined"
        >
          <div class="alert-items">
            <div class="alert-item static">
              <div class="alert-icon-wrapper">
                <clr-icon class="alert-icon" shape="check-circle"></clr-icon>
              </div>

              <span class="alert-text">
                {{ PopupResult }}
              </span>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <div class="progress-block">
            <div
              class="progress loop"
              *ngIf="PopupModelLocalvariable.isProgressbar"
            >
              <progress></progress>
            </div>
          </div>
          <div
            *ngIf="PopupModelLocalvariable.isProgressbar"
            style="align-items: left"
          >
            <b> Loading Results... </b>
          </div>
          <div class="button-container right-align">
            <button
              type="button"
              class="btn btn-outline"
              (click)="PopupModelClose()"
              [disabled]="PopupModelLocalvariable.isclose"
            >
              No
            </button>
            <button
              type="button"
              class="btn btn-outline"
              (click)="PopupEvent()"
              [disabled]="PopupModelLocalvariable.isclose"
            >
              Yes
            </button>
          </div>
        </div>
      </div>
      <br />
    </div>
  </div>
</div>
